# ByteCraft CLI
![ByteCraft CLI ](./docs/images/CLI.png)
ä¸€ä¸ªåŸºäº LangChain çš„äº¤äº’å¼ä»£ç åŠ©æ‰‹ CLI å·¥å…·ï¼Œæ”¯æŒæµå¼è¾“å‡ºã€å·¥å…·è°ƒç”¨å’Œæ™ºèƒ½å¯¹è¯ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- ğŸ¤– **æ™ºèƒ½å¯¹è¯** - åŸºäº DeepSeek æ¨¡å‹çš„æ™ºèƒ½ä»£ç åŠ©æ‰‹
- ğŸ”„ **æµå¼è¾“å‡º** - å®æ—¶æµå¼å“åº”ï¼Œæä¾›æ›´å¥½çš„äº¤äº’ä½“éªŒ
- ğŸ› ï¸ **å·¥å…·é›†æˆ** - æ”¯æŒå¤©æ°”æŸ¥è¯¢ç­‰å¤šç§å·¥å…·è°ƒç”¨
- âš™ï¸ **é…ç½®ç®¡ç†** - çµæ´»çš„ YAML é…ç½®æ–‡ä»¶ç³»ç»Ÿ
- ğŸ“ **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- ğŸ¨ **ç°ä»£ UI** - åŸºäº Ink.js çš„ç»ˆç«¯ UI ç•Œé¢

## ğŸ“ é¡¹ç›®ç»“æ„

```
ByteCraft/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ config/                   # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”‚   â””â”€â”€ config.ts            # é…ç½®æ–‡ä»¶è¯»å–å’Œç®¡ç†
â”‚   â”œâ”€â”€ types/                    # ç±»å‹å®šä¹‰æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ index.ts             # é›†ä¸­ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ example.ts           # ç±»å‹ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·å’Œå·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ agent/               # AI Agent ç›¸å…³
â”‚   â”‚   â”‚   â””â”€â”€ agent.ts         # ä¸»è¦çš„ Agent å®ç°
â”‚   â”‚   â”œâ”€â”€ tools/               # å·¥å…·é›†åˆ
â”‚   â”‚   â”‚   â””â”€â”€ weather.ts       # å¤©æ°”æŸ¥è¯¢å·¥å…·
â”‚   â”‚   â”œâ”€â”€ logger/              # æ—¥å¿—å·¥å…·
â”‚   â”‚   â””â”€â”€ session/             # ä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ ui/                      # ç”¨æˆ·ç•Œé¢æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ components/          # UI ç»„ä»¶
â”‚   â”‚   â””â”€â”€ hooks/               # React Hooks
â”‚   â””â”€â”€ index.ts                 # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ config.yaml                  # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ config.yaml.example          # é…ç½®æ–‡ä»¶ç¤ºä¾‹
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ package.json                # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
â””â”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
```

## ğŸ—ï¸ æ¨¡å—è¯´æ˜

### ğŸ“‚ `src/config/` - é…ç½®ç®¡ç†
- **åŠŸèƒ½**: ç®¡ç†åº”ç”¨é…ç½®ï¼Œæ”¯æŒ YAML é…ç½®æ–‡ä»¶
- **ä¸»è¦æ–‡ä»¶**: `config.ts`
- **ç‰¹æ€§**:
  - è‡ªåŠ¨è¯»å– `config.yaml` æ–‡ä»¶
  - ç±»å‹å®‰å…¨çš„é…ç½®æ¥å£
  - é»˜è®¤é…ç½®å›é€€æœºåˆ¶
  - é…ç½®éªŒè¯å’Œé”™è¯¯å¤„ç†

### ğŸ“‚ `src/types/` - ç±»å‹å®šä¹‰
- **åŠŸèƒ½**: é›†ä¸­ç®¡ç†æ‰€æœ‰ TypeScript ç±»å‹å®šä¹‰
- **ä¸»è¦æ–‡ä»¶**: `index.ts`
- **åŒ…å«ç±»å‹**:
  - é…ç½®ç›¸å…³ç±»å‹ (`AppConfig`, `ModelConfig`)
  - AI/LLM ç›¸å…³ç±»å‹ (`ChatMessage`, `ChatResponse`)
  - UI ç›¸å…³ç±»å‹ (`UIState`, `ChatUIState`)
  - å·¥å…·ç›¸å…³ç±»å‹ (`FileInfo`, `Result`)

### ğŸ“‚ `src/utils/agent/` - AI Agent
- **åŠŸèƒ½**: æ ¸å¿ƒ AI åŠ©æ‰‹å®ç°
- **ä¸»è¦æ–‡ä»¶**: `agent.ts`
- **ç‰¹æ€§**:
  - åŸºäº LangChain çš„æ™ºèƒ½å¯¹è¯
  - æµå¼è¾“å‡ºæ”¯æŒ
  - å·¥å…·è°ƒç”¨é›†æˆ
  - é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

### ğŸ“‚ `src/utils/tools/` - å·¥å…·é›†åˆ
- **åŠŸèƒ½**: å„ç§åŠŸèƒ½å·¥å…·çš„å®ç°
- **ä¸»è¦æ–‡ä»¶**: `weather.ts`
- **å½“å‰å·¥å…·**:
  - **å¤©æ°”æŸ¥è¯¢å·¥å…·**: æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯
- **æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°å·¥å…·

### ğŸ“‚ `src/ui/` - ç”¨æˆ·ç•Œé¢
- **åŠŸèƒ½**: åŸºäº Ink.js çš„ç»ˆç«¯ UI
- **ç»“æ„**:
  - `components/`: UI ç»„ä»¶
  - `hooks/`: React Hooks

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ (`config.yaml`)

```yaml
# ByteCraft AI åŠ©æ‰‹é…ç½®
model:
  name: "deepseek-v3-250324"
  baseURL: "https://ark.cn-beijing.volces.com/api/v3"
  apiKey: "your-api-key-here"
  streaming: true
```

### é…ç½®é¡¹è¯´æ˜

- `model.name`: AI æ¨¡å‹åç§°
- `model.baseURL`: API åŸºç¡€ URL
- `model.apiKey`: API å¯†é’¥
- `model.streaming`: æ˜¯å¦å¯ç”¨æµå¼è¾“å‡º

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. é…ç½® API

å¤åˆ¶é…ç½®æ–‡ä»¶ç¤ºä¾‹å¹¶å¡«å…¥æ‚¨çš„ API å¯†é’¥ï¼š

```bash
cp config.yaml.example config.yaml
# ç¼–è¾‘ config.yamlï¼Œå¡«å…¥æ‚¨çš„ API å¯†é’¥
```

### 3. è¿è¡Œåº”ç”¨

```bash
# å¼€å‘æ¨¡å¼
pnpm dev

# ç”Ÿäº§æ¨¡å¼
pnpm start

# æ„å»ºé¡¹ç›®
pnpm build
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `src/utils/tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°å·¥å…·æ–‡ä»¶
2. ç»§æ‰¿ `Tool` åŸºç±»å¹¶å®ç° `_call` æ–¹æ³•
3. åœ¨ `agent.ts` ä¸­å¯¼å…¥å¹¶æ·»åŠ åˆ°å·¥å…·åˆ—è¡¨

ç¤ºä¾‹ï¼š

```typescript
import { Tool } from '@langchain/core/tools';

export class MyTool extends Tool {
  name = 'my_tool';
  description = 'å·¥å…·æè¿°';

  protected async _call(input: string): Promise<string> {
    // å·¥å…·å®ç°é€»è¾‘
    return 'å·¥å…·ç»“æœ';
  }
}
```

### ä½¿ç”¨ç±»å‹å®šä¹‰

```typescript
import type { ChatMessage, AppConfig } from '@/types/index.js';

// ä½¿ç”¨ç±»å‹
const message: ChatMessage = {
  role: 'user',
  content: 'Hello',
  timestamp: new Date()
};
```

### è·¯å¾„æ˜ å°„

é¡¹ç›®é…ç½®äº† TypeScript è·¯å¾„æ˜ å°„ï¼Œæ”¯æŒä½¿ç”¨ `@` ç¬¦å·ç®€åŒ–å¯¼å…¥ï¼š

```typescript
// æ¨èä½¿ç”¨
import { getConfig } from '@/config/config.js';
import type { AppConfig } from '@/types/index.js';

// è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„
import { getConfig } from '../../config/config.js';
```

## ğŸ“ è„šæœ¬è¯´æ˜

- `pnpm start`: å¯åŠ¨åº”ç”¨
- `pnpm dev`: å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
- `pnpm build`: æ„å»ºé¡¹ç›®

## ğŸ¤ åä½œæŒ‡å—

### ä»£ç è§„èŒƒ

1. **ç±»å‹å®‰å…¨**: æ‰€æœ‰ä»£ç å¿…é¡»ä½¿ç”¨ TypeScript
2. **è·¯å¾„æ˜ å°„**: ä½¿ç”¨ `@` ç¬¦å·è¿›è¡Œå¯¼å…¥
3. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
4. **æ–‡æ¡£æ³¨é‡Š**: é‡è¦å‡½æ•°å’Œç±»éœ€è¦ JSDoc æ³¨é‡Š

### æäº¤è§„èŒƒ

- ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯
- æ¯ä¸ªåŠŸèƒ½ä¸€ä¸ªåˆ†æ”¯
- æäº¤å‰è¿è¡Œæµ‹è¯•

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. å®ç°åŠŸèƒ½
4. æ·»åŠ æµ‹è¯•
5. æäº¤ Pull Request

## ğŸ”§ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript
- **è¿è¡Œæ—¶**: Node.js
- **AI æ¡†æ¶**: LangChain
- **UI æ¡†æ¶**: Ink.js + React
- **é…ç½®ç®¡ç†**: js-yaml
- **åŒ…ç®¡ç†**: pnpm

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue
- å‘é€é‚®ä»¶
- å‚ä¸è®¨è®º

---

**ByteCraft CLI** - è®©ä»£ç å¼€å‘æ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆï¼ ğŸš€
