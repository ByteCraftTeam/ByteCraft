export class ToolPrompts {
  // æ–‡ä»¶ç®¡ç†å·¥å…·æç¤ºè¯
  static fileManagerPrompt = `
  FileManagerTool è°ƒç”¨æŒ‡å—

  **ğŸ¯ é‡è¦åŸåˆ™ï¼šç›´æ¥æ‰§è¡Œï¼Œä¸è¦è¾“å‡ºä»£ç ï¼**

  è¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äºæ ¸å¿ƒæ–‡ä»¶æ“ä½œçš„ç²¾ç®€æ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œæ”¯æŒï¼š
  1. ğŸ“ é€’å½’è¯»å–æ–‡ä»¶å¤¹æ‰€æœ‰å†…å®¹ï¼ˆæ”¯æŒæ™ºèƒ½å¿½ç•¥ï¼‰
  2. ğŸ“„ è¯»å–å•ä¸ªæ–‡ä»¶å†…å®¹
  3. ğŸ”§ æ‰¹é‡åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ 
  4. ğŸ—‘ï¸ åˆ é™¤æ–‡ä»¶å’Œç›®å½•
  5. âœï¸ å†™å…¥å’Œåˆ›å»ºå•ä¸ªæ–‡ä»¶
  
  ## æ ¸å¿ƒåŠŸèƒ½

  ### 1. è¯»å–æ–‡ä»¶å¤¹æ‰€æœ‰å†…å®¹
  æ“ä½œï¼šread_folder
  å‚æ•°ï¼špath (å¿…å¡«), recursive (å¯é€‰ï¼Œé»˜è®¤true), ignore_patterns (å¯é€‰ï¼Œè‡ªå®šä¹‰å¿½ç•¥æ¨¡å¼)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "read_folder", "path": "src", "recursive": true}"}
  {"input": "{"action": "read_folder", "path": ".", "recursive": true, "ignore_patterns": ["*.backup", "old-*"]}"}
  
  è¿”å›ï¼šå®Œæ•´çš„æ–‡ä»¶å¤¹ç»“æ„ï¼ŒåŒ…æ‹¬æ‰€æœ‰æ–‡ä»¶å†…å®¹
  
  é»˜è®¤å¿½ç•¥çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åŒ…æ‹¬ï¼š
  - node_modules, .git, .next, .nuxt, dist, build, coverage ç­‰æ„å»ºå’Œä¾èµ–ç›®å½•
  - .DS_Store, Thumbs.db, *.log ç­‰ç³»ç»Ÿå’Œæ—¥å¿—æ–‡ä»¶
  - .env, .env.local ç­‰ç¯å¢ƒé…ç½®æ–‡ä»¶
  - .vscode, .idea ç­‰ç¼–è¾‘å™¨é…ç½®ç›®å½•
  - __pycache__, target, bin, obj ç­‰è¯­è¨€ç‰¹å®šçš„æ„å»ºç›®å½•

  ### 2. è¯»å–å•ä¸ªæ–‡ä»¶å†…å®¹ï¼ˆæ”¯æŒè¡Œå·æ˜¾ç¤ºï¼‰
  æ“ä½œï¼šread_file
  å‚æ•°ï¼špath (å¿…å¡«), show_line_numbers (å¯é€‰ï¼Œé»˜è®¤true)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "read_file", "path": "src/index.js"}"}
  {"input": "{"action": "read_file", "path": "src/index.js", "show_line_numbers": false}"}
  
  è¿”å›ï¼šå•ä¸ªæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯å’Œå†…å®¹ï¼ŒåŒ…å«å¸¦è¡Œå·çš„å†…å®¹ç‰ˆæœ¬

  ### 3. æ‰¹é‡åˆ›å»ºæ–‡ä»¶å¤¹
  æ“ä½œï¼šbatch_create_folders
  å‚æ•°ï¼šfolders (å¿…å¡«ï¼Œå­—ç¬¦ä¸²æ•°ç»„)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "batch_create_folders", "folders": ["src/components", "src/utils", "tests"]}"}

  ### 4. æ‰¹é‡åˆ›å»ºæ–‡ä»¶å¹¶å†™å…¥å†…å®¹
  æ“ä½œï¼šbatch_create_files
  å‚æ•°ï¼šfiles (å¿…å¡«ï¼Œå¯¹è±¡æ•°ç»„ï¼ŒåŒ…å«pathå’Œcontent)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "batch_create_files", "files": [
    {"path": "src/index.js", "content": "console.log('Hello');"},
    {"path": "README.md", "content": "# é¡¹ç›®è¯´æ˜"}
  ]}"}

  ### 5. åˆ›å»ºå•ä¸ªæ–‡ä»¶
  æ“ä½œï¼šcreate_file
  å‚æ•°ï¼špath (å¿…å¡«), content (å¯é€‰ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²), overwrite (å¯é€‰ï¼Œé»˜è®¤false)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "create_file", "path": "src/new-file.js", "content": "console.log('Hello World');"}"}
  {"input": "{"action": "create_file", "path": "src/existing-file.js", "content": "updated content", "overwrite": true}"}
  
  è¿”å›ï¼šæ–‡ä»¶åˆ›å»ºç»“æœï¼ŒåŒ…æ‹¬æ–‡ä»¶ä¿¡æ¯

  ### 6. å†™å…¥æ–‡ä»¶å†…å®¹
  æ“ä½œï¼šwrite_file
  å‚æ•°ï¼špath (å¿…å¡«), content (å¿…å¡«), append (å¯é€‰ï¼Œé»˜è®¤false - è¦†ç›–å†™å…¥)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "write_file", "path": "src/config.js", "content": "export const config = {};"}"}
  {"input": "{"action": "write_file", "path": "logs/app.log", "content": "New log entry\\n", "append": true}"}
  
  è¿”å›ï¼šå†™å…¥æ“ä½œç»“æœï¼ŒåŒ…æ‹¬æ–‡ä»¶å¤§å°å˜åŒ–

  
  ### 8. åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•
  æ“ä½œï¼šdelete_item
  å‚æ•°ï¼špath (å¿…å¡«), recursive (å¯é€‰ï¼Œåˆ é™¤ç›®å½•æ—¶æ˜¯å¦é€’å½’åˆ é™¤ï¼Œé»˜è®¤false)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "delete_item", "path": "src/temp.js"}"}
  {"input": "{"action": "delete_item", "path": "temp_folder", "recursive": true}"}
  
  è¿”å›ï¼šåˆ é™¤æ“ä½œçš„è¯¦ç»†ç»“æœ

  ### 9. æ‰¹é‡åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•
  æ“ä½œï¼šbatch_delete
  å‚æ•°ï¼šitems (å¿…å¡«ï¼Œå¯¹è±¡æ•°ç»„ï¼ŒåŒ…å«pathå’Œå¯é€‰çš„recursive)
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "batch_delete", "items": [
    {"path": "src/temp1.js"},
    {"path": "temp_folder", "recursive": true},
    {"path": "src/temp2.js"}
  ]}"}

  ## è¾“å…¥æ ¼å¼
  æ”¯æŒå¤šç§è¾“å…¥æ ¼å¼ï¼Œå·¥å…·ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶å¤„ç†ï¼š
  
  æ ¼å¼1ï¼ˆæ¨èï¼‰ï¼šç›´æ¥JSONå­—ç¬¦ä¸²
  æ ¼å¼2ï¼ˆè‡ªåŠ¨å¤„ç†ï¼‰ï¼šåµŒå¥—å¯¹è±¡åŒ…å«inputå­—æ®µ
  
  âš ï¸ **é‡è¦æ³¨æ„äº‹é¡¹**ï¼š
  - åœ¨ä¼ é€’åŒ…å«æ¢è¡Œç¬¦çš„æ–‡ä»¶å†…å®¹æ—¶ï¼Œè¯·ä½¿ç”¨ \\n è€Œä¸æ˜¯å®é™…çš„æ¢è¡Œç¬¦
  - å…¶ä»–æ§åˆ¶å­—ç¬¦ä¹Ÿéœ€è¦è½¬ä¹‰ï¼š\\t (Tab), \\r (å›è½¦), \\b (é€€æ ¼) ç­‰
  - å·¥å…·ä¼šè‡ªåŠ¨å°è¯•è½¬ä¹‰å¸¸è§çš„æ§åˆ¶å­—ç¬¦ï¼Œä½†å»ºè®®ä¸»åŠ¨è½¬ä¹‰ä»¥é¿å…JSONè§£æé”™è¯¯
  - å¦‚æœé‡åˆ°JSONè§£æé”™è¯¯ï¼Œæ£€æŸ¥å†…å®¹ä¸­æ˜¯å¦åŒ…å«æœªè½¬ä¹‰çš„æ§åˆ¶å­—ç¬¦
  - å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç†åµŒå¥—çš„è¾“å…¥æ ¼å¼
  
  ## å®‰å…¨çº¦æŸ
  è¡¥ä¸è¦æ±‚ï¼šå¿…é¡»ä»¥ "*** Begin Patch" å¼€å¤´å’Œ "*** End Patch" ç»“å°¾
  æ‰¹é‡æ“ä½œé™åˆ¶ï¼šå•æ¬¡æ‰¹é‡æ“ä½œæœ€å¤šæ”¯æŒ100ä¸ªæ–‡ä»¶
  
  ## é”™è¯¯å¤„ç†
  æ‰¹é‡æ“ä½œä¸­ï¼Œå•ä¸ªæ–‡ä»¶å¤±è´¥ä¸ä¼šå½±å“å…¶ä»–æ–‡ä»¶çš„å¤„ç†ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ç»“æœä¼šå•ç‹¬è®°å½•ã€‚
  é”™è¯¯ç¤ºä¾‹
- è·¯å¾„ä¸å­˜åœ¨
  è¾“å…¥ï¼š{"input": "{\"action\": \"read_file\", \"path\": \"notfound.js\"}"}
  é¢„æœŸè¾“å‡ºï¼š{"success": false, "error": "æ–‡ä»¶ä¸å­˜åœ¨"}

- æƒé™ä¸è¶³
  è¾“å…¥ï¼š{"input": "{\"action\": \"delete_item\", \"path\": \"/system/important.txt\"}"}
  é¢„æœŸè¾“å‡ºï¼š{"success": false, "error": "æƒé™ä¸è¶³"}
  è¯·æŒ‰ç…§ä¸Šè¿°ç¤ºä¾‹çš„æ¨ç†é€»è¾‘å’Œæ ¼å¼è¦æ±‚ï¼Œç”Ÿæˆç¬¦åˆ FileManagerTool æ¥å£è§„èŒƒçš„è°ƒç”¨å‚æ•°ã€‚`;

  // å‘½ä»¤æ‰§è¡Œå·¥å…·æç¤ºè¯  
  static commandExecPrompt = `
CommandExecTool è°ƒç”¨æŒ‡å—

  **ğŸ¯ é‡è¦åŸåˆ™ï¼šç›´æ¥æ‰§è¡Œï¼Œä¸è¦è¾“å‡ºä»£ç ï¼**
  
  CommandExecTool æ˜¯ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œå·¥å…·ï¼Œæ”¯æŒå‰å°å’Œåå°å‘½ä»¤æ‰§è¡Œï¼Œä»¥åŠè¿›ç¨‹ç®¡ç†åŠŸèƒ½ã€‚
  
  **ä½¿ç”¨ç­–ç•¥ï¼š**
  - ç†è§£éœ€æ±‚åç«‹å³è°ƒç”¨å·¥å…·æ‰§è¡Œå‘½ä»¤
  - ä¸è¦å…ˆè¾“å‡ºå‘½ä»¤ä¾›ç”¨æˆ·æŸ¥çœ‹
  - ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼Œç„¶åæŠ¥å‘Šç»“æœ
  - æä¾›ç®€æ´çš„æ‰§è¡ŒçŠ¶æ€è¯´æ˜
  
 æ”¯æŒWindows/UnixåŒå¹³å°çš„å®‰å…¨å‘½ä»¤æ‰§è¡Œã€ç›®å½•ç®¡ç†ã€ä¾èµ–å®‰è£…ã€æµ‹è¯•è¿è¡Œå’Œåå°æœåŠ¡ç®¡ç†ã€‚
  è¿›è¡Œå‘½ä»¤æ‰§è¡Œæ—¶ï¼Œè¯·æ³¨æ„ä¸€ä¸‹å½“å‰ç›®å½•ï¼Œåœ¨å½“å‰ç›®ä»è¦cdè¿™ä¸ªç›®å½•çš„æ“ä½œã€‚
  æ™ºèƒ½é”™è¯¯æç¤ºï¼šæ˜¾ç¤ºå½“å‰ç›®å½•ã€å¯ç”¨ç›®å½•åˆ—è¡¨ï¼Œé¿å…é‡å¤çš„ç›®å½•åˆ‡æ¢æ“ä½œã€‚
  
  ğŸ”„ **è‡ªåŠ¨ç›®å½•é‡ç½®**: æ¯æ¬¡å·¥å…·è°ƒç”¨å®Œæˆåï¼ˆæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰ï¼Œå·¥ä½œç›®å½•ä¼šè‡ªåŠ¨é‡ç½®åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚è¿”å›ç»“æœä¸­ä¼šåŒ…å«é‡ç½®ä¿¡æ¯ã€‚ç¡®ä¿æ¯æ¬¡è°ƒç”¨éƒ½ä»é¡¹ç›®æ ¹ç›®å½•å¼€å§‹ï¼Œæ— éœ€æ‰‹åŠ¨æ‰§è¡Œcdå‘½ä»¤ã€‚
  
  ## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

  ### 1. å‰å°å‘½ä»¤æ‰§è¡Œ
  ç«‹å³æ‰§è¡Œå‘½ä»¤å¹¶ç­‰å¾…ç»“æœï¼Œé€‚ç”¨äºå¿«é€Ÿæ“ä½œã€‚
  **æ”¯æŒä¸¤ç§æ ¼å¼**ï¼š
  - å•ç‹¬å‘½ä»¤ï¼šç›´æ¥æ‰§è¡Œå‘½ä»¤
  - å¤åˆå‘½ä»¤ï¼šæ”¯æŒ "cd directory && command" æ ¼å¼ï¼Œè‡ªåŠ¨è§£æå¹¶å¤„ç†ç›®å½•åˆ‡æ¢
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "foreground", "command": "ls -la"}"}                   // å•ç‹¬å‘½ä»¤
  {"input": "{"action": "foreground", "command": "npm --version"}"}            // å•ç‹¬å‘½ä»¤
  {"input": "{"action": "foreground", "command": "npm test"}"}                 // å•ç‹¬å‘½ä»¤
  {"input": "{"action": "foreground", "command": "cd ByteCraft && npm test"}"} // å¤åˆå‘½ä»¤ï¼šå…ˆåˆ‡æ¢ç›®å½•å†æ‰§è¡Œ
  {"input": "{"action": "foreground", "command": "cd src && ls -la"}"}         // å¤åˆå‘½ä»¤ï¼šå…ˆåˆ‡æ¢ç›®å½•å†æ‰§è¡Œ
  {"input": "{"action": "foreground", "command": "cd .. && pwd"}"}             // æ”¯æŒç›¸å¯¹è·¯å¾„ï¼Œä½†ä¸èƒ½è¶…å‡ºé¡¹ç›®æ ¹ç›®å½•

  ### 2. åå°æœåŠ¡ç®¡ç†
  å¯åŠ¨é•¿æœŸè¿è¡Œçš„æœåŠ¡ï¼Œå¦‚WebæœåŠ¡å™¨ã€å¼€å‘æœåŠ¡å™¨ç­‰ã€‚
  åŒæ ·æ”¯æŒå•ç‹¬å‘½ä»¤å’Œå¤åˆå‘½ä»¤æ ¼å¼ã€‚
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "background", "command": "python3 -m http.server 8080", "type": "service"}"}  // å•ç‹¬å‘½ä»¤
  {"input": "{"action": "background", "command": "npm run dev", "type": "service"}"}                   // å•ç‹¬å‘½ä»¤
  {"input": "{"action": "background", "command": "cd ByteCraft && npm run dev", "type": "service"}"}   // å¤åˆå‘½ä»¤
  {"input": "{"action": "background", "command": "npm run build", "type": "build"}"}                   // å•ç‹¬å‘½ä»¤

  ### 3. ä¾èµ–ç®¡ç†
  å®‰è£…å’Œç®¡ç†é¡¹ç›®ä¾èµ–ã€‚
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "install_deps", "packages": ["jest", "@types/jest", "ts-jest"], "dev": true}"}
  {"input": "{"action": "install_deps", "packages": ["express", "cors"]}"}
  {"input": "{"action": "foreground", "command": "npm install"}"}

  ### 4. æµ‹è¯•æ‰§è¡Œ
  è¿è¡Œé¡¹ç›®æµ‹è¯•ï¼Œæ”¯æŒä¸åŒçš„æµ‹è¯•æ¡†æ¶ã€‚
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "run_test", "testFile": "project-analyzer.test.ts"}"}
  {"input": "{"action": "run_test", "testPattern": "*.test.ts"}"}
  {"input": "{"action": "foreground", "command": "npm test"}"}

  ### 5. å®‰å…¨ç›®å½•ç®¡ç†
  æ”¯æŒå®‰å…¨çš„ç›®å½•åˆ‡æ¢ï¼Œé˜²æ­¢è®¿é—®é¡¹ç›®å¤–éƒ¨ç›®å½•ã€‚
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "change_dir", "directory": "src"}"}
  {"input": "{"action": "change_dir", "directory": "tests"}"}
  {"input": "{"action": "get_current_dir"}"}

  ### 6. è¿›ç¨‹ç®¡ç†
  ç®¡ç†åå°è¿è¡Œçš„è¿›ç¨‹ã€‚
  
  ç¤ºä¾‹ï¼š
  {"input": "{"action": "list_processes"}"}
  {"input": "{"action": "kill_process", "processId": "1704067200000"}"}
  {"input": "{"action": "kill_all_processes"}"}

  ## ğŸ“‹ å‚æ•°è¯´æ˜

  ### é€šç”¨å‚æ•°
  - action (å¿…å¡«): æ“ä½œç±»å‹
  - workingDir (å¯é€‰): å·¥ä½œç›®å½•ï¼Œç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•

  ### å‰å°æ‰§è¡Œå‚æ•°
  - command (å¿…å¡«): è¦æ‰§è¡Œçš„å‘½ä»¤
  - timeout (å¯é€‰): è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤30ç§’

  ### åå°æ‰§è¡Œå‚æ•°
  - command (å¿…å¡«): è¦æ‰§è¡Œçš„å‘½ä»¤
  - type (å¯é€‰): è¿›ç¨‹ç±»å‹ ["service", "task", "build", "test"]

  ### ä¾èµ–å®‰è£…å‚æ•°
  - packages (å¿…å¡«): åŒ…åæ•°ç»„
  - dev (å¯é€‰): æ˜¯å¦ä¸ºå¼€å‘ä¾èµ–ï¼Œé»˜è®¤false
  - manager (å¯é€‰): åŒ…ç®¡ç†å™¨ ["npm", "pnpm", "yarn"]ï¼Œé»˜è®¤npm

  ### æµ‹è¯•æ‰§è¡Œå‚æ•°
  - testFile (å¯é€‰): æŒ‡å®šæµ‹è¯•æ–‡ä»¶
  - testPattern (å¯é€‰): æµ‹è¯•æ–‡ä»¶æ¨¡å¼

  ### ç›®å½•ç®¡ç†å‚æ•°
  - directory (å¯é€‰): ç›®æ ‡ç›®å½•

  ## ğŸ›¡ï¸ å®‰å…¨çº¦æŸ

  ### ç›®å½•å®‰å…¨
  - åªèƒ½åˆ‡æ¢åˆ°é¡¹ç›®å†…éƒ¨ç›®å½•
  - å…è®¸ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆåŒ…æ‹¬ cd ..ï¼‰ï¼Œä½†ä¸èƒ½è¶…å‡ºé¡¹ç›®æ ¹ç›®å½•èŒƒå›´
  - ç¦æ­¢ä½¿ç”¨ç»å¯¹è·¯å¾„å’Œè®¿é—®ç³»ç»Ÿæ•æ„Ÿç›®å½•

  ### å‘½ä»¤å®‰å…¨
  - å‘½ä»¤é•¿åº¦é™åˆ¶ï¼š10KB
  - å±é™©å‘½ä»¤æ‹¦æˆªï¼šshutdown, rm -rf /, formatç­‰
  - æ‰§è¡Œæ—¶é—´æ§åˆ¶ï¼šå¯é…ç½®è¶…æ—¶ï¼Œé»˜è®¤30ç§’

  ### è¿›ç¨‹ç®¡ç†
  - åå°è¿›ç¨‹æ•°é‡é™åˆ¶ï¼š15ä¸ª
  - è‡ªåŠ¨æ¸…ç†åƒµå°¸è¿›ç¨‹
  - è¿›ç¨‹çŠ¶æ€ç›‘æ§

  ## ğŸ“Š å¿«æ·æ“ä½œ

  ### å¸¸ç”¨å¼€å‘å‘½ä»¤
  {"input": "{"action": "dev_server"}"}          // å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  {"input": "{"action": "install_all"}"}         // å®‰è£…æ‰€æœ‰ä¾èµ–
  {"input": "{"action": "build_project"}"}       // æ„å»ºé¡¹ç›®
  {"input": "{"action": "run_tests"}"}           // è¿è¡Œæ‰€æœ‰æµ‹è¯•

  ## âš ï¸ æ³¨æ„äº‹é¡¹
  - æ‰€æœ‰è·¯å¾„éƒ½ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•
  - åå°æœåŠ¡ä¼šè‡ªåŠ¨åˆ†é…å”¯ä¸€ID
  - å»ºè®®ä¸ºé•¿æœŸè¿è¡Œçš„æœåŠ¡è®¾ç½®typeä¸º"service"
  - å®‰è£…ä¾èµ–æ—¶ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ç±»å‹
  - é”™è¯¯ä¿¡æ¯ä¼šè¯¦ç»†æ˜¾ç¤ºå½“å‰ç›®å½•å’Œå¯ç”¨ç›®å½•ï¼Œé¿å…é‡å¤åˆ‡æ¢
  - æ”¯æŒæ™ºèƒ½ç›®å½•æç¤ºï¼Œå¸®åŠ©å¿«é€Ÿå®šä½é—®é¢˜
  - **è‡ªåŠ¨ç›®å½•é‡ç½®**ï¼šæ¯æ¬¡å·¥å…·è°ƒç”¨å®Œæˆåå·¥ä½œç›®å½•è‡ªåŠ¨é‡ç½®åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿”å›ç»“æœåŒ…å«é‡ç½®çŠ¶æ€ä¿¡æ¯
  - **å½“å‰ç›®å½•è·Ÿè¸ª**ï¼šè¿”å›ç»“æœä¸­çš„ current_directory_after_reset å­—æ®µå§‹ç»ˆä¸º "."ï¼Œè¡¨ç¤ºå·²åœ¨æ ¹ç›®å½•
  
  ## é”™è¯¯å¤„ç†
  æ‰§è¡Œå¤±è´¥æ—¶ï¼Œä¼šè¿”å›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬é”™è¯¯ç±»å‹ã€é”™è¯¯æ¶ˆæ¯å’Œæ‰§è¡Œæ—¶é—´ã€‚
  ç¤ºä¾‹
- å‘½ä»¤è¶…æ—¶
  è¾“å…¥ï¼š{"input": "{\"action\": \"foreground\", \"command\": \"sleep 60\"}"}
  é¢„æœŸè¾“å‡ºï¼š{"success": false, "error": "å‘½ä»¤è¶…æ—¶"}
- æƒé™ä¸è¶³
  è¾“å…¥ï¼š{"input": "{\"action\": \"foreground\", \"command\": \"cat /etc/shadow\"}"}
  é¢„æœŸè¾“å‡ºï¼š{"success": false, "error": "æƒé™ä¸è¶³"}
- ç›®å½•ä¸å­˜åœ¨
  è¾“å…¥ï¼š{"input": "{\"action\": \"change_dir\", \"directory\": \"notfound\"}"}
  é¢„æœŸè¾“å‡ºï¼š{"success": false, "error": "ç›®å½•ä¸å­˜åœ¨"}

  è¯·æŒ‰ç…§ä¸Šè¿°ç¤ºä¾‹çš„æ¨ç†é€»è¾‘å’Œæ ¼å¼è¦æ±‚ï¼Œç”Ÿæˆç¬¦åˆ CommandExecTool æ¥å£è§„èŒƒçš„è°ƒç”¨å‚æ•°ã€‚`;

  // ä»£ç æ‰§è¡Œå™¨å·¥å…·æç¤ºè¯
  static codeExecutorPrompt = `
  CodeExecutorTool è°ƒç”¨æŒ‡å—

  CodeExecutorTool æ˜¯ä¸€ä¸ªä»£ç æ‰§è¡Œå·¥å…·ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„å®‰å…¨ä»£ç æ‰§è¡Œï¼ŒåŒ…å«è¶…æ—¶æ§åˆ¶å’Œå®‰å…¨æ£€æŸ¥åŠŸèƒ½ã€‚
  
  ## å•è¯­è¨€æ‰§è¡Œç¤ºä¾‹
  ç¤ºä¾‹ 1ï¼šæ‰§è¡ŒPythonè®¡ç®—
  è¾“å…¥ï¼š{"language":"python","code":"x = 10\\ny = 20\\nprint('ç»“æœ:', x + y)"}
  é¢„æœŸè¾“å‡ºï¼š{"success": true, "stdout": "ç»“æœ: 30", "executionTime": 245}
  
  ç¤ºä¾‹ 2ï¼šæ‰§è¡ŒJavaScriptä»£ç 
  è¾“å…¥ï¼š{"language":"javascript","code":"console.log('Hello World');\\nconsole.log('å½“å‰æ—¶é—´:', new Date());"}
  é¢„æœŸè¾“å‡ºï¼š{"success": true, "stdout": "Hello World\\nå½“å‰æ—¶é—´: 2024-01-01T00:00:00.000Z"}
  
  ç¤ºä¾‹ 3ï¼šæ‰§è¡ŒTypeScriptä»£ç 
  è¾“å…¥ï¼š{"language":"typescript","code":"interface User { name: string; age: number }\\nconst user: User = { name: 'Alice', age: 30 };\\nconsole.log(user);"}
  é¢„æœŸè¾“å‡ºï¼š{"success": true, "stdout": "{ name: 'Alice', age: 30 }"}
  
  ## é«˜çº§æ‰§è¡Œç¤ºä¾‹
  ç¤ºä¾‹ 4ï¼šå¸¦ç¯å¢ƒå˜é‡çš„æ‰§è¡Œ
  è¾“å…¥ï¼š{"language":"python","code":"import os\\nprint('ç¯å¢ƒå˜é‡:', os.environ.get('MY_VAR'))","env":{"MY_VAR":"test_value"}}
  é¢„æœŸè¾“å‡ºï¼š{"success": true, "stdout": "ç¯å¢ƒå˜é‡: test_value"}
  
  ç¤ºä¾‹ 5ï¼šå¸¦è¶…æ—¶æ§åˆ¶çš„æ‰§è¡Œ
  è¾“å…¥ï¼š{"language":"javascript","code":"setTimeout(() => console.log('å®Œæˆ'), 1000);","timeout":5000}
  é¢„æœŸè¾“å‡ºï¼š{"success": true, "stdout": "å®Œæˆ"}
  
  ç¤ºä¾‹ 6ï¼šå¸¦å‘½ä»¤è¡Œå‚æ•°çš„æ‰§è¡Œ
  è¾“å…¥ï¼š{"language":"shell","code":"echo \\"å‚æ•°: $1 $2\\"","args":["hello","world"]}
  é¢„æœŸè¾“å‡ºï¼š{"success": true, "stdout": "å‚æ•°: hello world"}
  
  ## æ“ä½œå‚æ•°æ˜ å°„è¡¨
  åŸºç¡€å‚æ•°ï¼š
  - languageï¼šå¿…å¡«ï¼Œç¼–ç¨‹è¯­è¨€ç±»å‹
  - codeï¼šå¿…å¡«ï¼Œè¦æ‰§è¡Œçš„ä»£ç å†…å®¹
  
  å¯é€‰å‚æ•°ï¼š
  - timeoutï¼šæ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤30000
  - argsï¼šå‘½ä»¤è¡Œå‚æ•°æ•°ç»„ï¼Œé»˜è®¤[]
  - envï¼šç¯å¢ƒå˜é‡å¯¹è±¡ï¼Œé»˜è®¤{}
  
  ## æ”¯æŒçš„è¯­è¨€ç±»å‹
  - python/pyï¼šPythonä»£ç æ‰§è¡Œ
  - javascript/js/nodeï¼šNode.jsç¯å¢ƒæ‰§è¡Œ
  - typescript/tsï¼šTypeScriptä»£ç ç¼–è¯‘æ‰§è¡Œ
  - shell/bash/shï¼šShellè„šæœ¬æ‰§è¡Œ
  - powershell/ps1ï¼šPowerShellè„šæœ¬æ‰§è¡Œ
  - cmd/batï¼šWindowså‘½ä»¤è„šæœ¬æ‰§è¡Œ
  - goï¼šGoè¯­è¨€ä»£ç ç¼–è¯‘æ‰§è¡Œ
  - rust/rsï¼šRustä»£ç ç¼–è¯‘æ‰§è¡Œ
  - c/cpp/c++ï¼šC/C++ä»£ç ç¼–è¯‘æ‰§è¡Œ
  
  ## å®‰å…¨çº¦æŸ
  - ä»£ç é•¿åº¦é™åˆ¶ï¼šå•æ¬¡æ‰§è¡Œä»£ç ä¸è¶…è¿‡50KB
  - æ‰§è¡Œæ—¶é—´æ§åˆ¶ï¼šé»˜è®¤30ç§’è¶…æ—¶ï¼Œå¯è‡ªå®šä¹‰è®¾ç½®
  - å±é™©æ“ä½œæ‹¦æˆªï¼šç¦æ­¢æ–‡ä»¶ç³»ç»Ÿç ´åæ€§æ“ä½œ
  - ç³»ç»Ÿå‘½ä»¤é™åˆ¶ï¼šé˜»æ­¢ç³»ç»Ÿå…³æœºã€é‡å¯ç­‰å±é™©å‘½ä»¤
  - æ¨¡å—å¯¼å…¥æ£€æŸ¥ï¼šé™åˆ¶å±é™©æ¨¡å—ä½¿ç”¨
  
  ## é”™è¯¯å¤„ç†
  æ‰§è¡Œå¤±è´¥æ—¶ï¼Œä¼šè¿”å›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬é”™è¯¯ç±»å‹ã€é”™è¯¯æ¶ˆæ¯å’Œæ‰§è¡Œæ—¶é—´ã€‚
  è¯·æŒ‰ç…§ä¸Šè¿°ç¤ºä¾‹çš„æ¨ç†é€»è¾‘å’Œæ ¼å¼è¦æ±‚ï¼Œç”Ÿæˆç¬¦åˆ CodeExecutorTool æ¥å£è§„èŒƒçš„è°ƒç”¨å‚æ•°ã€‚`;

  // æ–‡ä»¶å±€éƒ¨ç¼–è¾‘å·¥å…·æç¤ºè¯
  static fileEditPrompt = `
**ğŸ¯ é‡è¦åŸåˆ™ï¼šç›´æ¥æ‰§è¡Œï¼Œä¸è¦è¾“å‡ºä»£ç ï¼**

ä¸“ç”¨æ–‡ä»¶å±€éƒ¨ä¿®æ”¹å·¥å…·ï¼Œæ”¯æŒå¤šç§ç²¾ç¡®çš„å±€éƒ¨ä¿®æ”¹æ“ä½œï¼Œé¿å…å…¨é‡è¦†å†™æ–‡ä»¶ã€‚
æ”¯æŒåŸºäºè¡Œå·ã€æ–‡æœ¬åŒ¹é…ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰å¤šç§ä¿®æ”¹æ¨¡å¼ï¼Œé€‚åˆæ‰¹é‡å’Œå¤æ‚åœºæ™¯ã€‚

## æ ¸å¿ƒåŠŸèƒ½
1. åŸºäºè¡Œå·çš„ç²¾ç¡®ä¿®æ”¹ï¼ˆedit_by_linesï¼‰
   - replace_lines: æ›¿æ¢æŒ‡å®šè¡ŒèŒƒå›´
   - insert_lines: åœ¨æŒ‡å®šè¡Œå·åæ’å…¥å†…å®¹
   - delete_lines: åˆ é™¤æŒ‡å®šè¡ŒèŒƒå›´
   - prepend_lines: åœ¨æŒ‡å®šè¡Œå·å‰æ’å…¥å†…å®¹
2. åŸºäºæ–‡æœ¬åŒ¹é…çš„ä¿®æ”¹ï¼ˆedit_by_textï¼‰
   - replace_text: æ›¿æ¢åŒ¹é…çš„æ–‡æœ¬
   - insert_after_text: åœ¨åŒ¹é…æ–‡æœ¬åæ’å…¥å†…å®¹
   - insert_before_text: åœ¨åŒ¹é…æ–‡æœ¬å‰æ’å…¥å†…å®¹
   - delete_text: åˆ é™¤åŒ¹é…çš„æ–‡æœ¬
3. åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®æ”¹ï¼ˆedit_by_regexï¼‰
   - replace_regex: æ­£åˆ™æ›¿æ¢
   - extract_and_replace: æå–åŒ¹é…éƒ¨åˆ†å¹¶æ›¿æ¢
4. æ‰¹é‡ä¿®æ”¹ï¼ˆbatch_editï¼‰
   - æ”¯æŒåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸Šé¡ºåºæ‰§è¡Œå¤šä¸ªä¿®æ”¹æ“ä½œ
5. ä¿®æ”¹é¢„è§ˆï¼ˆpreview_editï¼‰
   - é¢„è§ˆä¿®æ”¹ç»“æœï¼Œæ˜¾ç¤ºå‰åå¯¹æ¯”

## å…¸å‹ç”¨æ³•ç¤ºä¾‹
- æ›¿æ¢æŒ‡å®šè¡ŒèŒƒå›´ï¼š
  {"input": "{\"action\": \"edit_by_lines\", ...}"}
- åœ¨æŒ‡å®šè¡Œåæ’å…¥å†…å®¹ï¼š
  {"input": "{\"action\": \"edit_by_lines\", ...}"}
- åˆ é™¤æŒ‡å®šè¡ŒèŒƒå›´ï¼š
  {"input": "{\"action\": \"edit_by_lines\", ...}"}
- æ›¿æ¢åŒ¹é…çš„æ–‡æœ¬ï¼š
  {"input": "{\"action\": \"edit_by_text\", ...}"}
- æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢ï¼š
  {"input": "{\"action\": \"edit_by_regex\", ...}"}
- æ‰¹é‡ä¿®æ”¹æ“ä½œï¼š
  {"input": "{\"action\": \"batch_edit\", ...}"}
- é¢„è§ˆä¿®æ”¹ï¼š
  {"input": "{\"action\": \"preview_edit\", ...}"}

## å®‰å…¨ç‰¹æ€§
- è‡ªåŠ¨å¤‡ä»½ï¼šæ¯æ¬¡ä¿®æ”¹å‰è‡ªåŠ¨åˆ›å»º .backup æ–‡ä»¶ï¼Œæ”¯æŒæ¢å¤
- ä¿®æ”¹éªŒè¯ï¼šè¡Œå·è¾¹ç•Œã€æ–‡ä»¶å­˜åœ¨æ€§ã€æ–‡æœ¬åŒ¹é…ç­‰å¤šé‡æ ¡éªŒ
- æ“ä½œè®°å½•ï¼šè¯¦ç»†æ—¥å¿—ï¼Œæ”¯æŒå›æ»š

## å‚æ•°è¯´æ˜
- action (å¿…å¡«): æ“ä½œç±»å‹
- file_path (å¿…å¡«): æ–‡ä»¶è·¯å¾„
- create_backup (å¯é€‰): æ˜¯å¦åˆ›å»ºå¤‡ä»½ï¼Œé»˜è®¤true
- å…¶å®ƒå‚æ•°è¯¦è§ä¸‹æ–¹è¯­æ³•è¯´æ˜

## æ³¨æ„äº‹é¡¹
- è¡Œå·ä»1å¼€å§‹è®¡æ•°
- æ¢è¡Œç¬¦ç»Ÿä¸€ç”¨ \n
- æ‰¹é‡æ“ä½œå»ºè®®ä»æ–‡ä»¶æœ«å°¾å‘å‰ï¼Œé¿å…è¡Œå·å˜åŒ–å½±å“
- å»ºè®®ä¼˜å…ˆä½¿ç”¨ç›¸å¯¹è·¯å¾„
- æ¯æ¬¡ä¿®æ”¹é»˜è®¤åˆ›å»ºå¤‡ä»½ï¼ˆé™¤éæ˜ç¡®ç¦ç”¨ï¼‰
- æ”¯æŒé¢„è§ˆå’Œå›æ»šï¼Œä¿éšœå®‰å…¨

  ### 1. åŸºäºè¡Œå·çš„ç²¾ç¡®ä¿®æ”¹
  æ“ä½œï¼šedit_by_lines
  - replace_lines: æ›¿æ¢æŒ‡å®šè¡ŒèŒƒå›´
  - insert_lines: åœ¨æŒ‡å®šè¡Œå·åæ’å…¥å†…å®¹
  - delete_lines: åˆ é™¤æŒ‡å®šè¡ŒèŒƒå›´
  - prepend_lines: åœ¨æŒ‡å®šè¡Œå·å‰æ’å…¥å†…å®¹

  ### 2. åŸºäºæ–‡æœ¬åŒ¹é…çš„ä¿®æ”¹
  æ“ä½œï¼šedit_by_text
  - replace_text: æ›¿æ¢åŒ¹é…çš„æ–‡æœ¬
  - insert_after_text: åœ¨åŒ¹é…æ–‡æœ¬åæ’å…¥å†…å®¹
  - insert_before_text: åœ¨åŒ¹é…æ–‡æœ¬å‰æ’å…¥å†…å®¹
  - delete_text: åˆ é™¤åŒ¹é…çš„æ–‡æœ¬

  ### 3. åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®æ”¹
  æ“ä½œï¼šedit_by_regex
  - replace_regex: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢
  - extract_and_replace: æå–åŒ¹é…éƒ¨åˆ†å¹¶æ›¿æ¢

  ### 4. æ‰¹é‡ä¿®æ”¹æ“ä½œ
  æ“ä½œï¼šbatch_edit
  - æ”¯æŒåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸Šæ‰§è¡Œå¤šä¸ªä¿®æ”¹æ“ä½œ
  - æŒ‰é¡ºåºæ‰§è¡Œï¼Œç¡®ä¿æ“ä½œçš„ä¸€è‡´æ€§

  ### 5. ä¿®æ”¹é¢„è§ˆå’Œå®‰å…¨æ£€æŸ¥
  æ“ä½œï¼špreview_edit
  - é¢„è§ˆä¿®æ”¹ç»“æœè€Œä¸å®é™…ä¿®æ”¹æ–‡ä»¶
  - æ˜¾ç¤ºä¿®æ”¹å‰åçš„å¯¹æ¯”

  ## è¯¦ç»†ç”¨æ³•ç¤ºä¾‹

  ### 1. æ›¿æ¢æŒ‡å®šè¡ŒèŒƒå›´
  {"input": "{"action": "edit_by_lines", "file_path": "src/index.js", "operation": "replace_lines", "start_line": 5, "end_line": 8, "content": "// æ–°çš„ä»£ç å—\\nconsole.log('Updated code');\\nconst newVar = 'value';"}"}

  ### 2. åœ¨æŒ‡å®šè¡Œåæ’å…¥å†…å®¹
  {"input": "{"action": "edit_by_lines", "file_path": "src/config.js", "operation": "insert_lines", "line_number": 10, "content": "// æ–°å¢é…ç½®\\nexport const newConfig = {};"}"}

  ### 3. åˆ é™¤æŒ‡å®šè¡ŒèŒƒå›´
  {"input": "{"action": "edit_by_lines", "file_path": "src/old.js", "operation": "delete_lines", "start_line": 15, "end_line": 20}"}

  ### 4. æ›¿æ¢åŒ¹é…çš„æ–‡æœ¬
  {"input": "{"action": "edit_by_text", "file_path": "src/app.js", "operation": "replace_text", "old_text": "const oldFunction = () => {\\n  return 'old';\\n}", "new_text": "const newFunction = () => {\\n  return 'new';\\n}", "replace_all": false}"}

  ### 5. åœ¨åŒ¹é…æ–‡æœ¬åæ’å…¥
  {"input": "{"action": "edit_by_text", "file_path": "src/imports.js", "operation": "insert_after_text", "target_text": "import React from 'react';", "content": "\\nimport { useState } from 'react';"}"}

  ### 6. æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢
  {"input": "{"action": "edit_by_regex", "file_path": "src/version.js", "operation": "replace_regex", "pattern": "version\\s*=\\s*['\"]([^'\"]+)['\"]", "replacement": "version = '2.0.0'", "flags": "g"}"}

  ### 7. æ‰¹é‡ä¿®æ”¹æ“ä½œ
  {"input": "{"action": "batch_edit", "file_path": "src/main.js", "operations": [
    {
      "type": "edit_by_lines",
      "operation": "replace_lines, 
      "start_line": 1,
      "end_line": 1,
      "content": "// Updated header comment"
    },
    {
      "type": "edit_by_text",
      "operation": "replace_text",
      "old_text": "oldVariable",
      "new_text": "newVariable", 
      "replace_all": true
    }
  ]}"}

  ### 8. é¢„è§ˆä¿®æ”¹
  {"input": "{"action": "preview_edit", "file_path": "src/test.js", "edit_config": {
    "type": "edit_by_lines",
    "operation": "replace_lines",
    "start_line": 5,
    "end_line": 7,
    "content": "console.log('Preview change');"
  }}"}

  ## å®‰å…¨ç‰¹æ€§

  ### è‡ªåŠ¨å¤‡ä»½
  - æ¯æ¬¡ä¿®æ”¹å‰è‡ªåŠ¨åˆ›å»ºå¤‡ä»½æ–‡ä»¶ï¼ˆ.backupæ‰©å±•åï¼‰
  - æ”¯æŒæ¢å¤åˆ°å¤‡ä»½ç‰ˆæœ¬

  ### ä¿®æ”¹éªŒè¯  
  - è¡Œå·è¾¹ç•Œæ£€æŸ¥
  - æ–‡ä»¶å­˜åœ¨æ€§éªŒè¯
  - æ–‡æœ¬åŒ¹é…éªŒè¯

  ### æ“ä½œè®°å½•
  - è¯¦ç»†çš„ä¿®æ”¹æ—¥å¿—
  - æ”¯æŒæ“ä½œå›æ»š

  ## å‚æ•°è¯´æ˜

  ### é€šç”¨å‚æ•°
  - action (å¿…å¡«): æ“ä½œç±»å‹
  - file_path (å¿…å¡«): è¦ä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„  
  - create_backup (å¯é€‰): æ˜¯å¦åˆ›å»ºå¤‡ä»½ï¼Œé»˜è®¤true

  ### åŸºäºè¡Œå·ä¿®æ”¹çš„å‚æ•°
  - operation (å¿…å¡«): æ“ä½œç±»å‹ [replace_lines, insert_lines, delete_lines, prepend_lines]
  - line_number (æ’å…¥æ“ä½œå¿…å¡«): ç›®æ ‡è¡Œå·
  - start_line, end_line (èŒƒå›´æ“ä½œå¿…å¡«): èµ·å§‹å’Œç»“æŸè¡Œå·
  - content (æ–°å¢å†…å®¹æ“ä½œå¿…å¡«): è¦æ’å…¥æˆ–æ›¿æ¢çš„å†…å®¹

  ### åŸºäºæ–‡æœ¬ä¿®æ”¹çš„å‚æ•°  
  - operation (å¿…å¡«): æ“ä½œç±»å‹ [replace_text, insert_after_text, insert_before_text, delete_text]
  - old_text, target_text (å¿…å¡«): è¦åŒ¹é…çš„æ–‡æœ¬
  - new_text, content (æ–°å¢å†…å®¹æ“ä½œå¿…å¡«): æ–°çš„å†…å®¹
  - replace_all (å¯é€‰): æ˜¯å¦æ›¿æ¢æ‰€æœ‰åŒ¹é…ï¼Œé»˜è®¤false
  - case_sensitive (å¯é€‰): æ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œé»˜è®¤true

  ### æ­£åˆ™è¡¨è¾¾å¼ä¿®æ”¹çš„å‚æ•°
  - operation (å¿…å¡«): æ“ä½œç±»å‹ [replace_regex, extract_and_replace] 
  - pattern (å¿…å¡«): æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼
  - replacement (å¿…å¡«): æ›¿æ¢å†…å®¹
  - flags (å¯é€‰): æ­£åˆ™è¡¨è¾¾å¼æ ‡å¿—ï¼Œé»˜è®¤"g"

  ## æ³¨æ„äº‹é¡¹
  - è¡Œå·ä»1å¼€å§‹è®¡æ•°
  - æ¢è¡Œç¬¦ä½¿ç”¨ \\n è¡¨ç¤º
  - è‡ªåŠ¨å¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿçš„æ¢è¡Œç¬¦
  - æ‰¹é‡æ“ä½œæŒ‰é¡ºåºæ‰§è¡Œï¼Œå»ºè®®ä»æ–‡ä»¶æœ«å°¾å‘å‰æ“ä½œä»¥é¿å…è¡Œå·å˜åŒ–
  - æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šåˆ›å»ºå¤‡ä»½æ–‡ä»¶ï¼ˆé™¤éæ˜ç¡®ç¦ç”¨ï¼‰
  - æ”¯æŒç›¸å¯¹å’Œç»å¯¹è·¯å¾„ï¼Œä½†å»ºè®®ä½¿ç”¨ç›¸å¯¹è·¯å¾„`;

  // ä»£ç åº“æœç´¢å·¥å…·æç¤ºè¯
  static grepSearchPrompt = `
**ğŸ¯ é‡è¦åŸåˆ™ï¼šç›´æ¥æ‰§è¡Œï¼Œä¸è¦è¾“å‡ºä»£ç ï¼**

GrepSearchTool æ˜¯ä¸€ä¸ªä»£ç åº“æœç´¢å·¥å…·ï¼Œæ”¯æŒæ­£åˆ™/æ–‡æœ¬æœç´¢ã€é€’å½’ã€ä¸Šä¸‹æ–‡æ˜¾ç¤ºã€æ’é™¤ç›®å½•ã€ç»Ÿè®¡ç­‰ã€‚

## ç¤ºä¾‹
è¾“å…¥ï¼š{"query":"function ","isRegexp":false,"maxResults":10}
é¢„æœŸè¾“å‡ºï¼š{"success":true,"results":[{"file":"src/index.ts","line":12,"text":"function foo() {"}]}

## æ“ä½œå‚æ•°æ˜ å°„è¡¨
- queryï¼šå¿…å¡«ï¼Œæœç´¢å†…å®¹
- isRegexpï¼šå¯é€‰ï¼Œæ˜¯å¦ä¸ºæ­£åˆ™
- maxResultsï¼šå¯é€‰ï¼Œæœ€å¤§è¿”å›æ¡æ•°
- includePattern/excludePatternï¼šå¯é€‰ï¼ŒåŒ…å«/æ’é™¤æ–‡ä»¶æ¨¡å¼

è¯·æ ¹æ®éœ€æ±‚ç”Ÿæˆç¬¦åˆ GrepSearchTool æ¥å£è§„èŒƒçš„å‚æ•°ã€‚`;

  // é¡¹ç›®åˆ†æå·¥å…·æç¤ºè¯
  static projectAnalyzerPrompt = `
**ğŸ¯ é‡è¦åŸåˆ™ï¼šç›´æ¥æ‰§è¡Œï¼Œä¸è¦è¾“å‡ºä»£ç ï¼**

ProjectAnalyzerTool ç”¨äºæ™ºèƒ½åˆ†æé¡¹ç›®ç»“æ„ã€æŠ€æœ¯æ ˆå’Œå…³é”®å†…å®¹ï¼Œå¸®åŠ©å¿«é€Ÿç†è§£é¡¹ç›®å…¨è²Œã€‚

  è¿™ä¸ªå·¥å…·å¯ä»¥æ™ºèƒ½åˆ†æé¡¹ç›®ï¼Œä¸ä¼šè¯»å–æ‰€æœ‰æ–‡ä»¶ï¼Œè€Œæ˜¯ï¼š
  1. ğŸ“Š æ‰«æé¡¹ç›®æ•´ä½“ç»“æ„å’Œæ–‡ä»¶åˆ†å¸ƒ
  2. ğŸ“‹ è¯»å–å…³é”®é…ç½®æ–‡ä»¶ï¼ˆpackage.jsonã€tsconfig.jsonã€READMEç­‰ï¼‰
  3. ğŸ” è¯†åˆ«å¹¶è¯»å–é‡è¦çš„å…¥å£æ–‡ä»¶å’Œæ ¸å¿ƒæ¨¡å—
  4. ğŸ§  æ ¹æ®æ–‡ä»¶é‡è¦æ€§å’Œç±»å‹é€‰æ‹©æ€§è¯»å–ä»£ç 
  5. ğŸ“ ç”Ÿæˆè¯¦ç»†çš„é¡¹ç›®åˆ†ææŠ¥å‘Š

## åŠŸèƒ½åˆ†ç»„

### 1. é¡¹ç›®ç»“æ„åˆ†æï¼ˆanalyze_structureï¼‰
æ“ä½œï¼šanalyze_structure
å‚æ•°ï¼špath (å¯é€‰ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•), max_depth (å¯é€‰ï¼Œé»˜è®¤ä¸º3)
ç¤ºä¾‹ï¼š
{"input": "{\"action\": \"analyze_structure\", \"path\": \".\", \"max_depth\": 3}"}
è¿”å›ï¼šé¡¹ç›®çš„ç›®å½•ç»“æ„ã€æ–‡ä»¶ç±»å‹åˆ†å¸ƒã€æŠ€æœ¯æ ˆè¯†åˆ«

### 2. é¡¹ç›®å®Œæ•´åˆ†æï¼ˆfull_analysisï¼‰
æ“ä½œï¼šfull_analysis
å‚æ•°ï¼špath (å¯é€‰ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•), focus_areas (å¯é€‰ï¼Œå…³æ³¨çš„æŠ€æœ¯é¢†åŸŸ)
ç¤ºä¾‹ï¼š
{"input": "{\"action\": \"full_analysis\", \"path\": \".\", \"focus_areas\": [\"frontend\", \"backend\", \"ai\"]}"}
è¿”å›ï¼šå®Œæ•´çš„é¡¹ç›®åˆ†ææŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼š
- é¡¹ç›®æ¦‚è§ˆå’ŒæŠ€æœ¯æ ˆ
- å…³é”®æ–‡ä»¶å†…å®¹æ‘˜è¦
- ä»£ç æ¶æ„åˆ†æ
- é¡¹ç›®ç‰¹ç‚¹å’Œå»ºè®®

### 3. å…³é”®æ–‡ä»¶åˆ†æï¼ˆanalyze_key_filesï¼‰
æ“ä½œï¼šanalyze_key_files
å‚æ•°ï¼špath (å¯é€‰ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•)
ç¤ºä¾‹ï¼š
{"input": "{\"action\": \"analyze_key_files\", \"path\": \".\"}"}
è¿”å›ï¼šé¡¹ç›®ä¸­å…³é”®æ–‡ä»¶çš„å†…å®¹å’Œåˆ†æ

## è¾“å…¥æ ¼å¼
æ‰€æœ‰è¾“å…¥éƒ½æ˜¯JSONå­—ç¬¦ä¸²æ ¼å¼ã€‚`;

  /**
   * è·å–å·¥å…·çš„è¯¦ç»†ä½¿ç”¨è¯´æ˜
   */
  static getToolPrompt(toolName: string): string {
    switch (toolName) {
      case 'file_manager_v2':
      case 'fileManagerV2':
        return this.fileManagerPrompt;
      case 'command_exec':
      case 'commandExec':
        return this.commandExecPrompt;
      case 'code_executor':
      case 'codeExecutor':
        return this.codeExecutorPrompt;
      case 'file_edit':
      case 'fileEdit':
        return this.fileEditPrompt;
      case 'grep_search':
      case 'grepSearch':
        return this.grepSearchPrompt;
      case 'project_analyzer':
      case 'projectAnalyzer':
        return this.projectAnalyzerPrompt;
      default:
        return `å·¥å…· "${toolName}" çš„ä½¿ç”¨è¯´æ˜æš‚ä¸å¯ç”¨ã€‚`;
    }
  }

  /**
   * è·å–æ‰€æœ‰å¯ç”¨å·¥å…·çš„ç®€è¦æè¿°
   */
  static getAllToolsDescription(): string {
    return `
å¯ç”¨å·¥å…·åˆ—è¡¨ï¼š

ğŸ—‚ï¸  **file_manager_v2** - æ–‡ä»¶ç®¡ç†
   é€’å½’è¯»å–ã€æ‰¹é‡åˆ›å»ºã€ç²¾ç¡®ä¿®æ”¹ã€åˆ é™¤æ–‡ä»¶å’Œç›®å½•

âœï¸  **file_edit** - æ–‡ä»¶å±€éƒ¨ç¼–è¾‘
   åŸºäºè¡Œå·ã€æ–‡æœ¬ã€æ­£åˆ™çš„ç²¾ç¡®ä¿®æ”¹å’Œæ‰¹é‡é¢„è§ˆ

ğŸ” **grep_search** - ä»£ç åº“æœç´¢
   æ­£åˆ™/æ–‡æœ¬æœç´¢ã€é€’å½’ã€ä¸Šä¸‹æ–‡æ˜¾ç¤ºã€æ’é™¤ç›®å½•ã€ç»Ÿè®¡

ğŸ“Š **project_analyzer** - é¡¹ç›®åˆ†æ
   æ™ºèƒ½åˆ†æé¡¹ç›®ç»“æ„ã€å…³é”®æ–‡ä»¶ã€æŠ€æœ¯æ ˆå’Œç”ŸæˆæŠ¥å‘Š

âš¡ **command_exec** - å‘½ä»¤æ‰§è¡Œ  
   æ‰§è¡Œå‰å°å’Œåå°å‘½ä»¤ï¼Œç®¡ç†è¿›ç¨‹

ğŸ”§ **code_executor** - ä»£ç æ‰§è¡Œ
   åœ¨æ²™ç®±ç¯å¢ƒä¸­æ‰§è¡Œå¤šç§è¯­è¨€çš„ä»£ç 

ä½¿ç”¨æ—¶è¯·æŒ‰ç…§ JSON æ ¼å¼æä¾›å‚æ•°ï¼Œç¡®ä¿å‚æ•°å®Œæ•´æ­£ç¡®ã€‚
`;
  }
}
